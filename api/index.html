<div class="card">
  <h2>Total ejecuciones</h2>
  <span id="total">0</span>
</div>

<div class="card">
  <h2>Ejecuciones hoy</h2>
  <span id="today">0</span>
</div>

<div class="card">
  <h2>Usuarios activos</h2>
  <span id="live">0</span>
</div><script>
async function actualizarStats() {
  try {
    const res = await fetch("/api/stats");
    const data = await res.json();

    document.getElementById("total").innerText = data.total;
    document.getElementById("today").innerText = data.today;
    document.getElementById("live").innerText = data.live;
  } catch (e) {
    console.error("Error cargando stats", e);
  }
}

// cargar al entrar
actualizarStats();

// actualizar cada 2 segundos
setInterval(actualizarStats, 2000);
</script>
